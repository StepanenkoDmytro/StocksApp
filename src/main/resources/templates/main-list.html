<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://www.thymeleaf.org ">
<head>
    <meta charset="UTF-8">
    <title>Main</title>
    <style>
        .content-column {
            width: 200px;
        }
        .logo-column {
            width: 32px;
        }
        .active {
            color: purple;
            font-weight: bold;
        }
        .panel-footer a {
            padding: 0 4px;
        }
    </style>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>
<header th:replace="~{blocks/header :: header}">
    <div th:with="filter=${'filter'}"></div>
    <div th:with="isAuthenticated=${'isAuthenticated'}"></div>
</header>
<div class="container">
    <table class="table">
        <thead class="thead-dark">
        <tr>
            <th scope="col"></th>
            <th scope="col" style="text-align: left;">Name</th>
            <th scope="col" style="text-align: left;">Price</th>
            <th scope="col" style="text-align: left;">Market Cap</th>
        </tr>
        </thead>
        <div th:each="coin : ${coins}">
            <tbody>
            <tr>
                <td class="logo-column">
<!--                    <img th:src="@{'https://cryptologos.cc/logos/thumbs/' + ${coin.id} + '.png?v=024'}" alt="Logo"-->
<!--                         height="32">-->
                </td>
                <td class="content-column">
<!--                    <a th:href="'/api/v1/main/' + ${coin.id}" th:text="${coin.name}"/>-->
                </td>
<!--                <td class="content-column" th:text="'$' + ${coin.priceUSD}"/>-->
<!--                <td class="content-column" th:text="'$' + ${coin.marketCapUsd}"/>-->
            </tr>
            </tbody>
        </div>
    </table>
</div>

<div align="center">
    <footer class="panel-footer">
        <div th:if="${totalItems != 1}">
            Total Items: [[${totalItems}]] : Page [[${currentPage}]] of [[${totalPages}]]
            &nbsp; &nbsp; &nbsp;
            <br>

            <span th:if="${currentPage != 1}">
                <a th:href="@{/api/v1/main/(page=1)}"><<</a>
                <a th:href="@{/api/v1/main/(page=${currentPage-1})}"><</a>
            </span>
            <span th:if="${currentPage <= 3}" th:each="i : ${#numbers.sequence(1, currentPage + 3)}">
                <a th:class="${i == currentPage} ? 'active' : ''" th:href="@{/api/v1/main/(page=${i})}">[[${i}]]</a>
            </span>
            <span th:if="${(currentPage > 3) && (currentPage <= totalPages - 3)}"
                  th:each="i : ${#numbers.sequence(currentPage - 3, currentPage + 3)}">
                <a th:class="${i == currentPage} ? 'active' : ''" th:href="@{/api/v1/main/(page=${i})}">[[${i}]]</a>
            </span>
            <span th:if="${currentPage > totalPages - 3}"
                  th:each="i : ${#numbers.sequence(totalPages - 5, totalPages)}">
                <a th:class="${i == currentPage} ? 'active' : ''" th:href="@{/api/v1/main/(page=${i})}">[[${i}]]</a>
            </span>
            <span th:if="${currentPage != totalPages}">
                <a th:href="@{/api/v1/main/(page=${currentPage+1})}">></a>
                <a th:href="@{/api/v1/main/(page=${totalPages})}">>></a>
            </span>
        </div>
        <div th:unless="${totalItems != 1}">
            Total Items: [[${totalItems}]] : Page [[${currentPage}]] of [[${totalPages}]]

            <br>
            <a th:href="@{/api/v1/main/(page=${currentPage})}">[[${currentPage}]]</a>

        </div>
    </footer>
</div>

<div th:replace="~{blocks/footer :: footer}"></div>
</body>
</html>