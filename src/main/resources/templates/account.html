<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xmlns:c="http://java.sun.com/jsp/jstl/core"
      xsi:schemaLocation="http://www.thymeleaf.org">

<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
</head>
<body>

<header th:replace="~{blocks/header :: header}">
    <div th:with="filter=${'filter'}"></div>
    <div th:with="isAuthenticated=${'isAuthenticated'}"></div>
</header>

<div class="container">
    <h2 th:text="'Гаманець: ' + ${account.account_name}"></h2>
    <p th:text="'Тип аккаунту: ' + ${account.account_type}"></p>
    <h4 th:text="'Баланс: ' + ${account.balance} + '$'"></h4>



    <button onclick="toggleDiv()" class="btn btn-success">Deposit</button>
    <div id="myDiv" style="display: none; inline-block; vertical-align: middle; margin-top: 10px;">
        <form action="/api/v1/user/account/deposit" method="post">
            <input type="hidden" name="account_id" th:value="${account.id}">
            <input type="text" name="deposit_amount" placeholder="Введіть суму депозиту" class="form-control">
            <button type="submit" class="btn btn-success">Accept</button>
        </form>
    </div>

    <script>
    function toggleDiv() {
        var x = document.getElementById("myDiv");
        if (x.style.display === "none") {
            x.style.display = "block";
        } else {
            x.style.display = "none";
        }
    }

    </script>

    <ul th:each="coin : ${account.coins}">
        <li th:text="'Name: ' + ${coin.name}"></li>
        <li th:text="'Coins: ' + ${coin.amountCOIN}"></li>
        <li th:text="'Amount: ' +  '$' + ${coin.amountUSD}"></li>
        <li th:text="'Middle price of buy ' + ${coin.amountUSD}/${coin.amountCOIN}"></li>
    </ul>
</div>

<div th:replace="~{blocks/footer :: footer}"></div>
</body>
</html>